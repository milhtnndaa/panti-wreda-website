<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sebuah Pesan Untuk Hati Anda</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden; /* Mencegah scroll selama splash screen */
        }
        .fade-transition {
            transition: opacity 1s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-900">

    <audio id="background-music" loop>
        <source src="musik-latar.mp3" type="audio/mpeg">
        Browser Anda tidak mendukung elemen audio.
    </audio>

    <div id="mute-button" class="fixed top-6 right-6 z-20 cursor-pointer p-2 rounded-full bg-white bg-opacity-10 hover:bg-opacity-20 transition-colors">
        <svg id="speaker-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
        </svg>
         <svg id="muted-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white hidden">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
            <line x1="23" y1="9" x2="17" y2="15"></line>
            <line x1="17" y1="9" x2="23" y2="15"></line>
        </svg>
    </div>

    <div id="background-container" class="fixed inset-0 z-0">
        <img src="https://unair.ac.id/wp-content/uploads/2019/12/lansia.jpg"
             onerror="this.onerror=null;this.src='https://placehold.co/1920x1080/000000/FFFFFF?text=Gambar+Lansia';"
             alt="[Foto seorang lansia tersenyum lembut]"
             class="w-full h-full object-cover opacity-20 blur-sm">
    </div>

    <div id="splash-screen" class="relative z-10 flex flex-col items-center justify-center min-h-screen p-6 text-white text-center bg-black bg-opacity-10">
        
        <div class="flex-grow flex items-center justify-center">
            <h1 id="splash-text" class="fade-transition opacity-0 text-2xl md:text-4xl lg:text-5xl font-semibold max-w-4xl"></h1>
        </div>

        <div id="next-button-container" class="absolute bottom-8 right-8 transition-all duration-1000 ease-in-out opacity-0">
            <button id="next-button" class="px-6 py-2 text-white bg-white bg-opacity-10 border border-white border-opacity-30 rounded-full hover:bg-opacity-20 backdrop-blur-sm transition-all duration-300">
                Lanjut &rarr;
            </button>
        </div>

        <div id="progress-bar-container" class="absolute bottom-8 left-1/2 -translate-x-1/2 w-1/3 max-w-xs transition-opacity duration-500 ease-in-out opacity-0">
            <div class="bg-white bg-opacity-20 rounded-full h-1.5">
                <div id="progress-bar" class="bg-white h-1.5 rounded-full" style="width: 0%; transition: width 0.5s ease-out;"></div>
            </div>
        </div>
        
        <div id="start-overlay" class="absolute inset-0 z-30 flex flex-col items-center justify-center bg-black bg-opacity-70 transition-opacity duration-1000">
             <h2 class="text-4xl font-bold mb-4">Sebuah Pesan Untuk Hati</h2>
             <p class="text-lg text-gray-300 mb-8">Pengalaman ini menggunakan musik latar.</p>
            <button id="start-button" class="px-8 py-3 bg-emerald-500 text-white text-lg font-bold rounded-full hover:bg-emerald-600 transition-transform transform hover:scale-105 shadow-lg">
                Mulai
            </button>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const messages = [
                "Sebuah pesan untuk hati anda",
                "Ingatkah kapan terakhir kita duduk, hanya untuk mendengar cerita mereka?",
                "Ada tawa yang kita rindukan, ada pelukan yang tak tergantikan.",
                "Namun waktu terus berjalan, meninggalkan sunyi di hati sebagian orang tua.",
                "Di sini, banyak kisah hebat yang merindukan telinga untuk mendengar.",
                "Jadilah alasan mereka tersenyum hari ini."
            ];

            let currentIndex = 0;
            const splashText = document.getElementById('splash-text');
            const nextButton = document.getElementById('next-button');
            const buttonContainer = document.getElementById('next-button-container');
            const progressBar = document.getElementById('progress-bar');
            const progressBarContainer = document.getElementById('progress-bar-container');
            const muteButton = document.getElementById('mute-button');
            const speakerIcon = document.getElementById('speaker-icon');
            const mutedIcon = document.getElementById('muted-icon');
            const backgroundMusic = document.getElementById('background-music');
            const startOverlay = document.getElementById('start-overlay');
            const startButton = document.getElementById('start-button');
            let intervalId;

            const startMusic = () => {
                backgroundMusic.play().catch(error => console.error("Audio play failed:", error));
            };

            const toggleMute = () => {
                backgroundMusic.muted = !backgroundMusic.muted;
                speakerIcon.classList.toggle('hidden', backgroundMusic.muted);
                mutedIcon.classList.toggle('hidden', !backgroundMusic.muted);
            };

            muteButton.addEventListener('click', toggleMute);

            const showMessage = (index) => {
                splashText.classList.remove('opacity-100');
                
                setTimeout(() => {
                    splashText.textContent = messages[index];
                    const progressPercentage = ((index + 1) / messages.length) * 100;
                    progressBar.style.width = `${progressPercentage}%`;
                    splashText.classList.add('opacity-100');

                    if (index === messages.length - 1) {
                        nextButton.innerHTML = 'Masuk ke Website';
                        clearInterval(intervalId);
                        progressBarContainer.classList.add('opacity-0');
                        buttonContainer.classList.remove('bottom-8', 'right-8');
                        buttonContainer.classList.add('left-1/2', '-translate-x-1/2', 'bottom-1/4');
                        
                        nextButton.classList.remove(
                            'bg-opacity-10', 'border', 'border-white', 'border-opacity-30', 
                            'backdrop-blur-sm', 'hover:bg-opacity-20', 'text-white'
                        );

                        nextButton.classList.add(
                            'hover:bg-gray-100',      
                            'text-emerald-600',       
                            'text-lg', 
                            'font-bold', 
                            'py-3', 
                            'px-8', 
                            'shadow-lg', 
                            'border-none',
                            'bg-white' // Tambahkan background putih solid
                        );
                    }
                }, 1000);
            };

            const nextMessageHandler = () => {
                if (currentIndex < messages.length - 1) {
                    currentIndex++;
                    showMessage(currentIndex);
                    clearInterval(intervalId);
                    if (currentIndex < messages.length - 1) {
                       startInterval();
                    }
                } else {
                    document.body.style.transition = 'opacity 1s ease';
                    document.body.style.opacity = '0';
                    setTimeout(() => {
                        window.location.href = 'landing-page.html';
                    }, 1000);
                }
            };
            
            const startInterval = () => {
                intervalId = setInterval(() => {
                    if (currentIndex < messages.length - 1) {
                         nextMessageHandler();
                    } else {
                        clearInterval(intervalId);
                    }
                }, 4000);
            };

            const initializeExperience = () => {
                startMusic();
                startOverlay.classList.add('opacity-0', 'pointer-events-none');
                buttonContainer.classList.remove('opacity-0');
                progressBarContainer.classList.remove('opacity-0');
                splashText.textContent = messages[0];
                progressBar.style.width = `${(1 / messages.length) * 100}%`;
                splashText.classList.add('opacity-100'); 
                startInterval();
            };

            startButton.addEventListener('click', initializeExperience);
            nextButton.addEventListener('click', nextMessageHandler);
        });
    </script>
</body>
</html>

